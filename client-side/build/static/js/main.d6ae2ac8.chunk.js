(this["webpackJsonpclient-side"]=this["webpackJsonpclient-side"]||[]).push([[0],{37:function(e,t,a){e.exports=a(65)},42:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(27),i=a.n(n),s=(a(42),a(31)),l=a(6),o=a(12),u=a(16),h=a(28),m=a(29),d=a(7),p=a(36),f=a(34),b=a(35),E=function(e){var t=Object(r.useState)({}),a=Object(b.a)(t,2),n=a[0],i=a[1];return Object(r.useEffect)((function(){i(e.product)}),[e.product]),c.a.createElement("div",{className:"card product"},c.a.createElement("div",{className:"card-header"},n.dept),c.a.createElement("div",{className:"card-body"},c.a.createElement("h5",{className:"card-title"},n.name),c.a.createElement("h6",{className:"card-subtitle text-muted"},"\u20b9",n.price),c.a.createElement("p",{className:"card-text"},n.color)))},N=a(30),C=a.n(N),v=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).baseURL||"http://localhost:5000",k=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).state={products:[],depts:[],colors:[],price:"",color:"",dept:"",hasPriceFilter:!1,hasDeptFilter:!1,hasColorFilter:!1},e.handlePriceChange=e.handlePriceChange.bind(Object(d.a)(e)),e.handleDeptChange=e.handleDeptChange.bind(Object(d.a)(e)),e.handleColorChange=e.handleColorChange.bind(Object(d.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(d.a)(e)),e.clearFilters=e.clearFilters.bind(Object(d.a)(e)),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;C.a.get("".concat(v,"/product")).then((function(t){return e.setState({products:t.data})})).then((function(){e.state.products.map((function(t){return e.setState((function(e){return{depts:[].concat(Object(u.a)(e.depts),[t.dept])}}))})),e.setState((function(e){return{depts:e.depts.filter((function(t,a){return e.depts.indexOf(t)===a}))}})),e.setState((function(e){return{depts:e.depts.sort()}}))})).then((function(){e.state.products.map((function(t){return e.setState((function(e){return{colors:[].concat(Object(u.a)(e.colors),[t.color])}}))})),e.setState((function(e){return{colors:e.colors.filter((function(t,a){return e.colors.indexOf(t)===a}))}})),e.setState((function(e){return{colors:e.colors.sort()}}))})).catch((function(e){return console.error(e)}))}},{key:"handlePriceChange",value:function(e){var t=e.target,a=t.name,r=t.value;"clear"===r?this.setState({hasPriceFilter:!1}):this.setState({hasPriceFilter:!0}),this.setState(Object(o.a)({},a,r))}},{key:"handleDeptChange",value:function(e){var t=e.target,a=t.name,r=t.value;"clear"===r?this.setState({hasDeptFilter:!1}):this.setState({hasDeptFilter:!0}),this.setState(Object(o.a)({},a,r))}},{key:"handleColorChange",value:function(e){var t=e.target,a=t.name,r=t.value;"clear"===r?this.setState({hasColorFilter:!1}):this.setState({hasColorFilter:!0}),this.setState(Object(o.a)({},a,r))}},{key:"clearFilters",value:function(){this.setState({hasPriceFilter:!1,hasDeptFilter:!1,hasColorFilter:!1,color:"",price:"",dept:""})}},{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this;return this.state.products.length?c.a.createElement("div",{className:"container"},c.a.createElement("div",null,c.a.createElement("form",{onSubmit:this.handleSubmit},c.a.createElement("div",{className:"form-check form-check-inline"},c.a.createElement("input",{className:"form-check-input",name:"price",type:"radio",value:"0 - 500",checked:"0 - 500"===this.state.price,onChange:this.handlePriceChange}),c.a.createElement("label",{className:"form-check-label"},"\u20b90 - \u20b9500")),c.a.createElement("div",{className:"form-check form-check-inline"},c.a.createElement("input",{className:"form-check-input",name:"price",type:"radio",value:"501 - 2000",checked:"501 - 2000"===this.state.price,onChange:this.handlePriceChange}),c.a.createElement("label",{className:"form-check-label"},"\u20b9501 - \u20b92000")),c.a.createElement("div",{className:"form-check form-check-inline"},c.a.createElement("input",{className:"form-check-input",name:"price",type:"radio",value:"2001 - 5000",checked:"2001 - 5000"===this.state.price,onChange:this.handlePriceChange}),c.a.createElement("label",{className:"form-check-label"},"\u20b92001 - \u20b95000")),c.a.createElement("div",{className:"form-check form-check-inline"},c.a.createElement("input",{className:"form-check-input",name:"price",type:"radio",value:">5000",checked:">5000"===this.state.price,onChange:this.handlePriceChange}),c.a.createElement("label",{className:"form-check-label"},">\u20b95000")),c.a.createElement("div",{className:"form-check form-check-inline"},c.a.createElement("input",{className:"form-check-input",type:"radio",name:"price",value:"clear",onChange:this.handlePriceChange,checked:"clear"===this.state.price}),c.a.createElement("label",{className:"form-check-label"},"Clear Price Filter")),c.a.createElement("div",{className:"form-group"},c.a.createElement("select",{className:"form-control",name:"dept",onChange:this.handleDeptChange,value:this.state.dept},c.a.createElement("option",{value:"",selected:!0,disabled:!0,hidden:!0},"Choose Department Filter"),c.a.createElement("option",{value:"clear"},"Clear Dept Filter"),this.state.depts.map((function(e){return c.a.createElement("option",{value:e},e)})))),c.a.createElement("div",{className:"form-group"},c.a.createElement("select",{className:"form-control",name:"color",onChange:this.handleColorChange,value:this.state.color},c.a.createElement("option",{value:"",selected:!0,disabled:!0,hidden:!0},"Choose Color Filter"),c.a.createElement("option",{value:"clear"},"Clear Color Filter"),this.state.colors.map((function(e){return c.a.createElement("option",{value:e},e)}))),this.state.hasColorFilter||this.state.hasPriceFilter||this.state.hasDeptFilter?c.a.createElement("button",{className:"btn btn-sm btn-success",onClick:this.clearFilters},"Clear all filters"):" "))),c.a.createElement("div",{id:"products-list"},this.state.hasPriceFilter?this.state.price.match(/\d+/g)[1]?this.state.hasDeptFilter?this.state.hasColorFilter?this.state.products.filter((function(t){return Number(t.price)>Number(e.state.price.match(/\d+/g)[0])&&Number(t.price)<Number(e.state.price.match(/\d+/g)[1])&&t.dept===e.state.dept&&t.color===e.state.color})).map((function(e){return c.a.createElement(E,{key:e._id,product:e})})):this.state.products.filter((function(t){return Number(t.price)>Number(e.state.price.match(/\d+/g)[0])&&Number(t.price)<Number(e.state.price.match(/\d+/g)[1])&&t.dept===e.state.dept})).map((function(e){return c.a.createElement(E,{key:e._id,product:e})})):this.state.hasColorFilter?this.state.products.filter((function(t){return Number(t.price)>Number(e.state.price.match(/\d+/g)[0])&&Number(t.price)<Number(e.state.price.match(/\d+/g)[1])&&t.color===e.state.color})).map((function(e){return c.a.createElement(E,{key:e._id,product:e})})):this.state.products.filter((function(t){return Number(t.price)>Number(e.state.price.match(/\d+/g)[0])&&Number(t.price)<Number(e.state.price.match(/\d+/g)[1])})).map((function(e){return c.a.createElement(E,{key:e._id,product:e})})):this.state.hasDeptFilter?this.state.hasColorFilter?this.state.products.filter((function(t){return Number(t.price)>Number(e.state.price.match(/\d+/g)[0])&&t.dept===e.state.dept&&t.color===e.state.color})).map((function(e){return c.a.createElement(E,{key:e._id,product:e})})):this.state.products.filter((function(t){return Number(t.price)>Number(e.state.price.match(/\d+/g)[0])&&t.dept===e.state.dept})).map((function(e){return c.a.createElement(E,{key:e._id,product:e})})):this.state.hasColorFilter?this.state.products.filter((function(t){return Number(t.price)>Number(e.state.price.match(/\d+/g)[0])&&t.color===e.state.color})).map((function(e){return c.a.createElement(E,{key:e._id,product:e})})):this.state.products.filter((function(t){return Number(t.price)>Number(e.state.price.match(/\d+/g)[0])})).map((function(e){return c.a.createElement(E,{key:e._id,product:e})})):this.state.hasDeptFilter?this.state.hasColorFilter?this.state.products.filter((function(t){return t.dept===e.state.dept&&t.color===e.state.color})).map((function(e){return c.a.createElement(E,{key:e._id,product:e})})):this.state.products.filter((function(t){return t.dept===e.state.dept})).map((function(e){return c.a.createElement(E,{key:e._id,product:e})})):this.state.hasColorFilter?this.state.products.filter((function(t){return t.color===e.state.color})).map((function(e){return c.a.createElement(E,{key:e._id,product:e})})):this.state.products.map((function(e){return c.a.createElement(E,{key:e._id,product:e})})))):c.a.createElement("div",null,"LOADING...")}}]),a}(r.Component);var g=function(){return c.a.createElement(s.a,null,c.a.createElement(l.a,{path:"/",exact:!0,component:k}))};i.a.render(c.a.createElement(g,null),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.d6ae2ac8.chunk.js.map